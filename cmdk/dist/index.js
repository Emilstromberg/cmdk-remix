var xe=Object.create;var F=Object.defineProperty;var Ie=Object.getOwnPropertyDescriptor;var we=Object.getOwnPropertyNames;var _e=Object.getPrototypeOf,Oe=Object.prototype.hasOwnProperty;var He=(e,o)=>{for(var r in o)F(e,r,{get:o[r],enumerable:!0})},ue=(e,o,r,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of we(o))!Oe.call(e,c)&&c!==r&&F(e,c,{get:()=>o[c],enumerable:!(a=Ie(o,c))||a.enumerable});return e};var de=(e,o,r)=>(r=e!=null?xe(_e(e)):{},ue(o||!e||!e.__esModule?F(r,"default",{value:e,enumerable:!0}):r,e)),Ne=e=>ue(F({},"__esModule",{value:!0}),e);var Ze={};He(Ze,{Command:()=>Ye,CommandDialog:()=>Le,CommandEmpty:()=>Pe,CommandGroup:()=>be,CommandGroupCustom:()=>Se,CommandInput:()=>ye,CommandItem:()=>Ce,CommandItemCustom:()=>Ee,CommandList:()=>Me,CommandLoading:()=>Ae,CommandRoot:()=>ne,CommandSeparator:()=>Te,useCommandState:()=>L});module.exports=Ne(Ze);var k=de(require("@radix-ui/react-dialog")),t=de(require("react"));var fe=1,Ge=.9,Ve=.8,Ke=.17,z=.1,Q=.999,Fe=.9999;var $e=.99,je=/[\\\/_+.#"@\[\(\{&]/,Ue=/[\\\/_+.#"@\[\(\{&]/g,We=/[\s-]/,Re=/[\s-]/g;function Z(e,o,r,a,c,s,i){if(s===o.length)return c===e.length?fe:$e;var p=`${c},${s}`;if(i[p]!==void 0)return i[p];for(var R=a.charAt(s),m=r.indexOf(R,c),v=0,l,C,T,E;m>=0;)l=Z(e,o,r,a,m+1,s+1,i),l>v&&(m===c?l*=fe:je.test(e.charAt(m-1))?(l*=Ve,T=e.slice(c,m-1).match(Ue),T&&c>0&&(l*=Math.pow(Q,T.length))):We.test(e.charAt(m-1))?(l*=Ge,E=e.slice(c,m-1).match(Re),E&&c>0&&(l*=Math.pow(Q,E.length))):(l*=Ke,c>0&&(l*=Math.pow(Q,m-c))),e.charAt(m)!==o.charAt(s)&&(l*=Fe)),(l<z&&r.charAt(m-1)===a.charAt(s+1)||a.charAt(s+1)===a.charAt(s)&&r.charAt(m-1)!==a.charAt(s))&&(C=Z(e,o,r,a,m+1,s+2,i),C*z>l&&(l=C*z)),l>v&&(v=l),m=r.indexOf(R,m+1);return i[p]=v,v}function me(e){return e.toLowerCase().replace(Re," ")}function pe(e,o){return Z(e,o,me(e),me(o),0,0,{})}var qe='[cmdk-list-sizer=""]',G='[cmdk-group=""]',ee='[cmdk-group-items=""]',Be='[cmdk-group-heading=""]',te='[cmdk-item=""]',ve=`${te}:not([aria-disabled="true"])`,V="cmdk-item-select",A="data-value",Xe=(e,o)=>pe(e,o),he=t.createContext(void 0),w=()=>t.useContext(he),ge=t.createContext(void 0),$=()=>t.useContext(ge),j=t.createContext(void 0),ne=t.forwardRef((e,o)=>{let r=t.useRef(null),a=O(()=>{var n;return{search:"",value:e.value??((n=e.defaultValue)==null?void 0:n.toLowerCase())??"",filtered:{count:0,items:new Map,groups:new Set}}}),c=O(()=>new Set),s=O(()=>new Map),i=O(()=>new Map),p=O(()=>new Set),R=re(e),{label:m,children:v,value:l,onValueChange:C,filter:T,shouldFilter:E,shouldSort:P,..._}=e;console.log("AllItems: ",c);let K=t.useId(),S=t.useId(),b=t.useId(),h=De();x(()=>{if(l!==void 0){let n=l.trim().toLowerCase();a.current.value=n,h(6,ae),y.emit()}},[l]);let y=t.useMemo(()=>({subscribe:n=>(p.current.add(n),()=>p.current.delete(n)),snapshot:()=>a.current,setState:(n,f,u)=>{var d,g,M;if(!Object.is(a.current[n],f)){if(a.current[n]=f,n==="search")X(),q(),h(1,B);else if(n==="value")if(((d=R.current)==null?void 0:d.value)!==void 0){let I=f??"";(M=(g=R.current).onValueChange)==null||M.call(g,I);return}else u||h(5,ae);y.emit()}},emit:()=>{p.current.forEach(n=>n())}}),[]),W=t.useMemo(()=>({value:(n,f)=>{f!==i.current.get(n)&&(i.current.set(n,f),a.current.filtered.items.set(n,oe(f)),h(2,()=>{q(),y.emit()}))},item:(n,f)=>(c.current.add(n),f&&(s.current.has(f)?s.current.get(f).add(n):s.current.set(f,new Set([n]))),h(3,()=>{X(),q(),a.current.value||B(),y.emit()}),()=>{i.current.delete(n),c.current.delete(n),a.current.filtered.items.delete(n);let u=H();h(4,()=>{X(),(u==null?void 0:u.getAttribute("id"))===n&&B(),y.emit()})}),group:n=>(s.current.has(n)||s.current.set(n,new Set),()=>{i.current.delete(n),s.current.delete(n)}),filter:()=>R.current.shouldFilter,label:m||e["aria-label"],commandRef:r,listId:K,inputId:b,labelId:S}),[]);function oe(n){var u;let f=((u=R.current)==null?void 0:u.filter)??Xe;return n?f(n,a.current.search):0}function q(){if(!r.current||!a.current.search||R.current.shouldSort===!1)return;let n=a.current.filtered.items,f=[];a.current.filtered.groups.forEach(d=>{let g=s.current.get(d),M=0;g.forEach(I=>{let ke=n.get(I);M=Math.max(ke,M)}),f.push([d,M])});let u=r.current.querySelector(qe);N().sort((d,g)=>{let M=d.getAttribute(A),I=g.getAttribute(A);return(n.get(I)??0)-(n.get(M)??0)}).forEach(d=>{let g=d.closest(ee);g?g.appendChild(d.parentElement===g?d:d.closest(`${ee} > *`)):u.appendChild(d.parentElement===u?d:d.closest(`${ee} > *`))}),f.sort((d,g)=>g[1]-d[1]).forEach(d=>{let g=r.current.querySelector(`${G}[${A}="${d[0]}"]`);g==null||g.parentElement.appendChild(g)})}function B(){let n=N().find(u=>!u.ariaDisabled),f=n==null?void 0:n.getAttribute(A);console.log(`Selecting First Item: ${n}, value: ${f}`),y.setState("value",f||void 0)}function X(){if(!a.current.search||R.current.shouldFilter===!1){a.current.filtered.count=c.current.size;return}a.current.filtered.groups=new Set;let n=0;for(let f of c.current){let u=i.current.get(f),d=oe(u);a.current.filtered.items.set(f,d),d>0&&n++}for(let[f,u]of s.current)for(let d of u)if(a.current.filtered.items.get(d)>0){a.current.filtered.groups.add(f);break}a.current.filtered.count=n}function ae(){var f,u,d;let n=H();n&&(((f=n.parentElement)==null?void 0:f.firstChild)===n&&((d=(u=n.closest(G))==null?void 0:u.querySelector(Be))==null||d.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function H(){var n;return(n=r.current)==null?void 0:n.querySelector(`${te}[aria-selected="true"]`)}function N(){return Array.from(r.current.querySelectorAll(ve))}function Y(n){let u=N()[n];u&&y.setState("value",u.getAttribute(A))}function J(n){var M;let f=H(),u=N(),d=u.findIndex(I=>I===f),g=u[d+n];(M=R.current)!=null&&M.loop&&(g=d+n<0?u[u.length-1]:d+n===u.length?u[0]:u[d+n]),g&&y.setState("value",g.getAttribute(A))}function ce(n){let f=H(),u=f==null?void 0:f.closest(G),d;for(;u&&!d;)u=n>0?Je(u,G):ze(u,G),d=u==null?void 0:u.querySelector(ve);d?y.setState("value",d.getAttribute(A)):J(n)}let se=()=>Y(N().length-1),ie=n=>{n.preventDefault(),n.metaKey?se():n.altKey?ce(1):J(1)},le=n=>{n.preventDefault(),n.metaKey?Y(0):n.altKey?ce(-1):J(-1)};return t.createElement("div",{ref:D([r,o]),..._,"cmdk-root":"",onKeyDown:n=>{var f;if((f=_.onKeyDown)==null||f.call(_,n),!n.defaultPrevented)switch(n.key){case"n":case"j":{n.ctrlKey&&ie(n);break}case"ArrowDown":{ie(n);break}case"p":case"k":{n.ctrlKey&&le(n);break}case"ArrowUp":{le(n);break}case"Home":{n.preventDefault(),Y(0);break}case"End":{n.preventDefault(),se();break}case"Enter":{n.preventDefault();let u=H();if(u){let d=new Event(V);u.dispatchEvent(d)}}}}},t.createElement("label",{"cmdk-label":"",htmlFor:W.inputId,id:W.labelId,style:Qe},m),t.createElement(ge.Provider,{value:y},t.createElement(he.Provider,{value:W},v)))}),Ee=t.forwardRef((e,o)=>{var b;let r=t.useId(),a=t.useRef(null),c=t.useContext(j),s=w(),i=re(e),p=((b=i.current)==null?void 0:b.forceMount)??(c==null?void 0:c.forceMount);x(()=>s.item(r,c==null?void 0:c.id),[]);let R=U(r,a,[e.value,e.children,a]),m=$(),v=L(h=>h.value&&h.value===R.current),l=L(h=>p||s.filter()===!1?!0:h.search?h.filtered.items.get(r)>0:!0);t.useEffect(()=>{let h=a.current;if(!(!h||e.disabled))return h.addEventListener(V,T),()=>h.removeEventListener(V,T)},[l,e.onSelect,e.disabled]);let C=De();t.useEffect(()=>{if(v){console.log("Current Ref is Selected: ",a.current),console.log("Current Input Ref: ",e.inputRef.current);let h=new Event("mouseenter"),y=new Event("mouseleave");C(0,()=>a.current.dispatchEvent(h)),C(5,()=>a.current.dispatchEvent(y))}},[v]);function T(){var h,y;E(),(y=(h=i.current).onSelect)==null||y.call(h,R.current),a.current.click()}function E(){m.setState("value",R.current,!0)}if(!l)return null;let{disabled:P,value:_,onSelect:K,...S}=e;return e.CustomAnchorTag?t.createElement(e.CustomAnchorTag,{to:e.href,prefetch:"intent",ref:D([a,o]),id:r,"cmdk-item":"",role:"option","aria-disabled":P||void 0,"aria-selected":v||void 0,"data-disabled":P||void 0,"data-selected":v||void 0,onPointerMove:P?void 0:E,onClick:P?void 0:T,className:S.className,defaultChecked:S.defaultChecked,defaultValue:S.defaultValue,suppressContentEditableWarning:S.suppressContentEditableWarning,suppressHydrationWarning:S.suppressHydrationWarning,accessKey:S.accessKey},e.children):t.createElement("a",{href:e.href,ref:D([a,o]),id:r,"cmdk-item":"",role:"option","aria-disabled":P||void 0,"aria-selected":v||void 0,"data-disabled":P||void 0,"data-selected":v||void 0,onPointerMove:P?void 0:E,onClick:P?void 0:T,className:S.className,defaultChecked:S.defaultChecked,defaultValue:S.defaultValue,suppressContentEditableWarning:S.suppressContentEditableWarning,suppressHydrationWarning:S.suppressHydrationWarning,accessKey:S.accessKey},e.children)}),Ce=t.forwardRef((e,o)=>{var S;let r=t.useId(),a=t.useRef(null),c=t.useContext(j),s=w(),i=re(e),p=((S=i.current)==null?void 0:S.forceMount)??(c==null?void 0:c.forceMount);x(()=>s.item(r,c==null?void 0:c.id),[]);let R=U(r,a,[e.value,e.children,a]),m=$(),v=L(b=>b.value&&b.value===R.current),l=L(b=>p||s.filter()===!1?!0:b.search?b.filtered.items.get(r)>0:!0);t.useEffect(()=>{let b=a.current;if(!(!b||e.disabled))return b.addEventListener(V,C),()=>b.removeEventListener(V,C)},[l,e.onSelect,e.disabled]);function C(){var b,h;T(),(h=(b=i.current).onSelect)==null||h.call(b,R.current)}function T(){m.setState("value",R.current,!0)}if(!l)return null;let{disabled:E,value:P,onSelect:_,...K}=e;return t.createElement("div",{ref:D([a,o]),...K,id:r,"cmdk-item":"",role:"option","aria-disabled":E||void 0,"aria-selected":v||void 0,"data-disabled":E||void 0,"data-selected":v||void 0,onPointerMove:E?void 0:T,onClick:E?void 0:C},e.children)}),Se=t.forwardRef((e,o)=>{let{heading:r,children:a,forceMount:c,...s}=e,i=t.useId(),p=t.useRef(null),R=t.useRef(null),m=t.useId(),v=w(),l=L(E=>c||v.filter()===!1?!0:E.search?E.filtered.groups.has(i):!0);x(()=>v.group(i),[]),U(i,p,[e.value,e.heading,R]);let C=t.useMemo(()=>({id:i,forceMount:c}),[c]),T=t.createElement(j.Provider,{value:C},a);return t.createElement("div",{ref:D([p,o]),...s,"cmdk-group":"",role:"presentation",hidden:l?void 0:!0},r&&t.createElement("div",{ref:R,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0,className:e.customchildclassname},T))}),be=t.forwardRef((e,o)=>{let{heading:r,children:a,forceMount:c,...s}=e,i=t.useId(),p=t.useRef(null),R=t.useRef(null),m=t.useId(),v=w(),l=L(E=>c||v.filter()===!1?!0:E.search?E.filtered.groups.has(i):!0);x(()=>v.group(i),[]),U(i,p,[e.value,e.heading,R]);let C=t.useMemo(()=>({id:i,forceMount:c}),[c]),T=t.createElement(j.Provider,{value:C},a);return t.createElement("div",{ref:D([p,o]),...s,"cmdk-group":"",role:"presentation",hidden:l?void 0:!0},r&&t.createElement("div",{ref:R,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0},T))}),Te=t.forwardRef((e,o)=>{let{alwaysRender:r,...a}=e,c=t.useRef(null),s=L(i=>!i.search);return!r&&!s?null:t.createElement("div",{ref:D([c,o]),...a,"cmdk-separator":"",role:"separator"})}),ye=t.forwardRef((e,o)=>{let{onValueChange:r,loading:a,...c}=e,s=e.value!=null,i=$(),p=L(l=>l.search),R=L(l=>l.value),m=w();console.log("Store Snapshot: ",i.snapshot().filtered),console.log("Search: ",p),console.log("Context: ",m),console.log("Props: ",e);let v=t.useMemo(()=>{var C;let l=(C=m.commandRef.current)==null?void 0:C.querySelector(`${te}[${A}="${R}"]`);return l==null?void 0:l.getAttribute("id")},[R,m.commandRef]);return t.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value,i.snapshot().filtered.items]),t.createElement("input",{ref:o,...c,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":v,id:m.inputId,type:"text",value:s?e.value:p,onChange:l=>{s||i.setState("search",l.target.value),r==null||r(l.target.value)}})}),Me=t.forwardRef((e,o)=>{let{children:r,...a}=e,c=t.useRef(null),s=t.useRef(null),i=w();return t.useEffect(()=>{if(s.current&&c.current){let p=s.current,R=c.current,m,v=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let l=p.offsetHeight;R.style.setProperty("--cmdk-list-height",l.toFixed(1)+"px")})});return v.observe(p),()=>{cancelAnimationFrame(m),v.unobserve(p)}}},[]),t.createElement("div",{ref:D([c,o]),...a,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},t.createElement("div",{ref:s,"cmdk-list-sizer":""},r))}),Le=t.forwardRef((e,o)=>{let{open:r,onOpenChange:a,overlayClassName:c,contentClassName:s,container:i,...p}=e;return t.createElement(k.Root,{open:r,onOpenChange:a},t.createElement(k.Portal,{container:i},t.createElement(k.Overlay,{"cmdk-overlay":"",className:c}),t.createElement(k.Content,{"aria-label":e.label,"cmdk-dialog":"",className:s},t.createElement(ne,{ref:o,...p}))))}),Pe=t.forwardRef((e,o)=>{let r=t.useRef(!0),a=L(c=>c.filtered.count===0);return t.useEffect(()=>{r.current=!1},[]),r.current||!a?null:t.createElement("div",{ref:o,...e,"cmdk-empty":"",role:"presentation"})}),Ae=t.forwardRef((e,o)=>{let{progress:r,children:a,...c}=e;return t.createElement("div",{ref:o,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},t.createElement("div",{"aria-hidden":!0},a))}),Ye=Object.assign(ne,{List:Me,CustomItem:Ee,Item:Ce,Input:ye,CustomGroup:Se,Group:be,Separator:Te,Dialog:Le,Empty:Pe,Loading:Ae});function Je(e,o){let r=e.nextElementSibling;for(;r;){if(r.matches(o))return r;r=r.nextElementSibling}}function ze(e,o){let r=e.previousElementSibling;for(;r;){if(r.matches(o))return r;r=r.previousElementSibling}}function re(e){let o=t.useRef(e);return x(()=>{o.current=e}),o}var x=typeof window>"u"?t.useEffect:t.useLayoutEffect;function O(e){let o=t.useRef();return o.current===void 0&&(o.current=e()),o}function D(e){return o=>{e.forEach(r=>{typeof r=="function"?r(o):r!=null&&(r.current=o)})}}function L(e){let o=$(),r=()=>e(o==null?void 0:o.snapshot());return t.useSyncExternalStore(o==null?void 0:o.subscribe,r,r)}function U(e,o,r){let a=t.useRef(),c=w();return x(()=>{var i;let s=(()=>{var p;for(let R of r){if(typeof R=="string")return R.trim().toLowerCase();if(typeof R=="object"&&"current"in R&&R.current)return(p=R.current.textContent)==null?void 0:p.trim().toLowerCase()}})();c.value(e,s),(i=o.current)==null||i.setAttribute(A,s),a.current=s}),a}var De=()=>{let[e,o]=t.useState(),r=O(()=>new Map);return x(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,c)=>{r.current.set(a,c),o({})}},Qe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};0&&(module.exports={Command,CommandDialog,CommandEmpty,CommandGroup,CommandGroupCustom,CommandInput,CommandItem,CommandItemCustom,CommandList,CommandLoading,CommandRoot,CommandSeparator,useCommandState});
