var ke=Object.create;var F=Object.defineProperty;var Ie=Object.getOwnPropertyDescriptor;var we=Object.getOwnPropertyNames;var _e=Object.getPrototypeOf,Oe=Object.prototype.hasOwnProperty;var He=(e,c)=>{for(var r in c)F(e,r,{get:c[r],enumerable:!0})},ue=(e,c,r,o)=>{if(c&&typeof c=="object"||typeof c=="function")for(let a of we(c))!Oe.call(e,a)&&a!==r&&F(e,a,{get:()=>c[a],enumerable:!(o=Ie(c,a))||o.enumerable});return e};var de=(e,c,r)=>(r=e!=null?ke(_e(e)):{},ue(c||!e||!e.__esModule?F(r,"default",{value:e,enumerable:!0}):r,e)),Ne=e=>ue(F({},"__esModule",{value:!0}),e);var Ze={};He(Ze,{Command:()=>Ye,CommandDialog:()=>Pe,CommandEmpty:()=>Le,CommandGroup:()=>be,CommandGroupCustom:()=>Se,CommandInput:()=>ye,CommandItem:()=>Ce,CommandItemCustom:()=>Ee,CommandList:()=>Me,CommandLoading:()=>Ae,CommandRoot:()=>ne,CommandSeparator:()=>Te,useCommandState:()=>P});module.exports=Ne(Ze);var x=de(require("@radix-ui/react-dialog")),t=de(require("react"));var fe=1,Ge=.9,Ve=.8,Ke=.17,z=.1,Q=.999,Fe=.9999;var je=.99,$e=/[\\\/_+.#"@\[\(\{&]/,Ue=/[\\\/_+.#"@\[\(\{&]/g,We=/[\s-]/,ge=/[\s-]/g;function Z(e,c,r,o,a,s,u){if(s===c.length)return a===e.length?fe:je;var R=`${a},${s}`;if(u[R]!==void 0)return u[R];for(var g=o.charAt(s),m=r.indexOf(g,a),p=0,i,C,T,E;m>=0;)i=Z(e,c,r,o,m+1,s+1,u),i>p&&(m===a?i*=fe:$e.test(e.charAt(m-1))?(i*=Ve,T=e.slice(a,m-1).match(Ue),T&&a>0&&(i*=Math.pow(Q,T.length))):We.test(e.charAt(m-1))?(i*=Ge,E=e.slice(a,m-1).match(ge),E&&a>0&&(i*=Math.pow(Q,E.length))):(i*=Ke,a>0&&(i*=Math.pow(Q,m-a))),e.charAt(m)!==c.charAt(s)&&(i*=Fe)),(i<z&&r.charAt(m-1)===o.charAt(s+1)||o.charAt(s+1)===o.charAt(s)&&r.charAt(m-1)!==o.charAt(s))&&(C=Z(e,c,r,o,m+1,s+2,u),C*z>i&&(i=C*z)),i>p&&(p=i),m=r.indexOf(g,m+1);return u[R]=p,p}function me(e){return e.toLowerCase().replace(ge," ")}function Re(e,c){return Z(e,c,me(e),me(c),0,0,{})}var qe='[cmdk-list-sizer=""]',G='[cmdk-group=""]',ee='[cmdk-group-items=""]',Be='[cmdk-group-heading=""]',te='[cmdk-item=""]',pe=`${te}:not([aria-disabled="true"])`,V="cmdk-item-select",A="data-value",Xe=(e,c)=>Re(e,c),ve=t.createContext(void 0),w=()=>t.useContext(ve),he=t.createContext(void 0),j=()=>t.useContext(he),$=t.createContext(void 0),ne=t.forwardRef((e,c)=>{let r=t.useRef(null),o=O(()=>{var n;return{search:"",value:e.value??((n=e.defaultValue)==null?void 0:n.toLowerCase())??"",filtered:{count:0,items:new Map,groups:new Set}}}),a=O(()=>new Set),s=O(()=>new Map),u=O(()=>new Map),R=O(()=>new Set),g=re(e),{label:m,children:p,value:i,onValueChange:C,filter:T,shouldFilter:E,shouldSort:L,..._}=e;console.log("AllItems: ",a);let K=t.useId(),S=t.useId(),b=t.useId(),v=De();k(()=>{if(i!==void 0){let n=i.trim().toLowerCase();o.current.value=n,v(6,ce),y.emit()}},[i]);let y=t.useMemo(()=>({subscribe:n=>(R.current.add(n),()=>R.current.delete(n)),snapshot:()=>o.current,setState:(n,d,l)=>{var f,h,M;if(console.log("SetState: ","key: ",n," value: ",d),console.log("If statement: ",Object.is(o.current[n],d)),!Object.is(o.current[n],d)){if(o.current[n]=d,n==="search")X(),q(),v(1,B);else if(n==="value")if(((f=g.current)==null?void 0:f.value)!==void 0){let I=d??"";(M=(h=g.current).onValueChange)==null||M.call(h,I);return}else l||v(5,ce);y.emit()}},emit:()=>{R.current.forEach(n=>n())}}),[]),W=t.useMemo(()=>({value:(n,d)=>{d!==u.current.get(n)&&(u.current.set(n,d),o.current.filtered.items.set(n,oe(d)),v(2,()=>{q(),y.emit()}))},item:(n,d)=>(a.current.add(n),d&&(s.current.has(d)?s.current.get(d).add(n):s.current.set(d,new Set([n]))),v(3,()=>{X(),q(),o.current.value||B(),y.emit()}),()=>{u.current.delete(n),a.current.delete(n),o.current.filtered.items.delete(n);let l=H();v(4,()=>{X(),(l==null?void 0:l.getAttribute("id"))===n&&B(),y.emit()})}),group:n=>(s.current.has(n)||s.current.set(n,new Set),()=>{u.current.delete(n),s.current.delete(n)}),filter:()=>g.current.shouldFilter,label:m||e["aria-label"],commandRef:r,listId:K,inputId:b,labelId:S}),[]);function oe(n){var l;let d=((l=g.current)==null?void 0:l.filter)??Xe;return n?d(n,o.current.search):0}function q(){if(console.log("Inside Sort..."),!r.current||!o.current.search||g.current.shouldSort===!1)return;console.log("Continuing sorting ...");let n=o.current.filtered.items,d=[];o.current.filtered.groups.forEach(f=>{let h=s.current.get(f),M=0;h.forEach(I=>{let xe=n.get(I);M=Math.max(xe,M)}),d.push([f,M])});let l=r.current.querySelector(qe);N().sort((f,h)=>{let M=f.getAttribute(A),I=h.getAttribute(A);return(n.get(I)??0)-(n.get(M)??0)}).forEach(f=>{let h=f.closest(ee);h?h.appendChild(f.parentElement===h?f:f.closest(`${ee} > *`)):l.appendChild(f.parentElement===l?f:f.closest(`${ee} > *`))}),d.sort((f,h)=>h[1]-f[1]).forEach(f=>{let h=r.current.querySelector(`${G}[${A}="${f[0]}"]`);h==null||h.parentElement.appendChild(h)})}function B(){let n=N().find(l=>!l.ariaDisabled),d=n==null?void 0:n.getAttribute(A);console.log("Selecting First Item:"),console.log("item: ",n),console.log("value: ",d),y.setState("value",d||void 0)}function X(){if(!o.current.search||g.current.shouldFilter===!1){o.current.filtered.count=a.current.size;return}o.current.filtered.groups=new Set;let n=0;for(let d of a.current){let l=u.current.get(d),f=oe(l);o.current.filtered.items.set(d,f),f>0&&n++}for(let[d,l]of s.current)for(let f of l)if(o.current.filtered.items.get(f)>0){o.current.filtered.groups.add(d);break}o.current.filtered.count=n}function ce(){var d,l,f;let n=H();n&&(((d=n.parentElement)==null?void 0:d.firstChild)===n&&((f=(l=n.closest(G))==null?void 0:l.querySelector(Be))==null||f.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function H(){var n;return(n=r.current)==null?void 0:n.querySelector(`${te}[aria-selected="true"]`)}function N(){return Array.from(r.current.querySelectorAll(pe))}function Y(n){let l=N()[n];l&&y.setState("value",l.getAttribute(A))}function J(n){var M;let d=H(),l=N(),f=l.findIndex(I=>I===d),h=l[f+n];(M=g.current)!=null&&M.loop&&(h=f+n<0?l[l.length-1]:f+n===l.length?l[0]:l[f+n]),h&&y.setState("value",h.getAttribute(A))}function ae(n){let d=H(),l=d==null?void 0:d.closest(G),f;for(;l&&!f;)l=n>0?Je(l,G):ze(l,G),f=l==null?void 0:l.querySelector(pe);f?y.setState("value",f.getAttribute(A)):J(n)}let se=()=>Y(N().length-1),ie=n=>{n.preventDefault(),n.metaKey?se():n.altKey?ae(1):J(1)},le=n=>{n.preventDefault(),n.metaKey?Y(0):n.altKey?ae(-1):J(-1)};return t.createElement("div",{ref:D([r,c]),..._,"cmdk-root":"",onKeyDown:n=>{var d;if((d=_.onKeyDown)==null||d.call(_,n),!n.defaultPrevented)switch(n.key){case"n":case"j":{n.ctrlKey&&ie(n);break}case"ArrowDown":{ie(n);break}case"p":case"k":{n.ctrlKey&&le(n);break}case"ArrowUp":{le(n);break}case"Home":{n.preventDefault(),Y(0);break}case"End":{n.preventDefault(),se();break}case"Enter":{n.preventDefault();let l=H();if(l){let f=new Event(V);l.dispatchEvent(f)}}}}},t.createElement("label",{"cmdk-label":"",htmlFor:W.inputId,id:W.labelId,style:Qe},m),t.createElement(he.Provider,{value:y},t.createElement(ve.Provider,{value:W},p)))}),Ee=t.forwardRef((e,c)=>{var b;let r=t.useId(),o=t.useRef(null),a=t.useContext($),s=w(),u=re(e),R=((b=u.current)==null?void 0:b.forceMount)??(a==null?void 0:a.forceMount);k(()=>s.item(r,a==null?void 0:a.id),[]);let g=U(r,o,[e.value,e.children,o]),m=j(),p=P(v=>v.value&&v.value===g.current),i=P(v=>R||s.filter()===!1?!0:v.search?v.filtered.items.get(r)>0:!0);t.useEffect(()=>{let v=o.current;if(!(!v||e.disabled))return v.addEventListener(V,T),()=>v.removeEventListener(V,T)},[i,e.onSelect,e.disabled]);let C=De();t.useEffect(()=>{if(p){console.log("Current Ref is Selected: ",o.current),console.log("Current Input Ref: ",e.inputRef.current);let v=new Event("mouseenter"),y=new Event("mouseleave");C(0,()=>o.current.dispatchEvent(v)),C(5,()=>o.current.dispatchEvent(y))}},[p]);function T(){var v,y;E(),(y=(v=u.current).onSelect)==null||y.call(v,g.current),o.current.click()}function E(){m.setState("value",g.current,!0)}if(!i)return null;let{disabled:L,value:_,onSelect:K,...S}=e;return e.CustomAnchorTag?t.createElement(e.CustomAnchorTag,{to:e.href,prefetch:"intent",ref:D([o,c]),id:r,"cmdk-item":"",role:"option","aria-disabled":L||void 0,"aria-selected":p||void 0,"data-disabled":L||void 0,"data-selected":p||void 0,onPointerMove:L?void 0:E,onClick:L?void 0:T,className:S.className,defaultChecked:S.defaultChecked,defaultValue:S.defaultValue,suppressContentEditableWarning:S.suppressContentEditableWarning,suppressHydrationWarning:S.suppressHydrationWarning,accessKey:S.accessKey},e.children):t.createElement("a",{href:e.href,ref:D([o,c]),id:r,"cmdk-item":"",role:"option","aria-disabled":L||void 0,"aria-selected":p||void 0,"data-disabled":L||void 0,"data-selected":p||void 0,onPointerMove:L?void 0:E,onClick:L?void 0:T,className:S.className,defaultChecked:S.defaultChecked,defaultValue:S.defaultValue,suppressContentEditableWarning:S.suppressContentEditableWarning,suppressHydrationWarning:S.suppressHydrationWarning,accessKey:S.accessKey},e.children)}),Ce=t.forwardRef((e,c)=>{var S;let r=t.useId(),o=t.useRef(null),a=t.useContext($),s=w(),u=re(e),R=((S=u.current)==null?void 0:S.forceMount)??(a==null?void 0:a.forceMount);k(()=>s.item(r,a==null?void 0:a.id),[]);let g=U(r,o,[e.value,e.children,o]),m=j(),p=P(b=>b.value&&b.value===g.current),i=P(b=>R||s.filter()===!1?!0:b.search?b.filtered.items.get(r)>0:!0);t.useEffect(()=>{let b=o.current;if(!(!b||e.disabled))return b.addEventListener(V,C),()=>b.removeEventListener(V,C)},[i,e.onSelect,e.disabled]);function C(){var b,v;T(),(v=(b=u.current).onSelect)==null||v.call(b,g.current)}function T(){m.setState("value",g.current,!0)}if(!i)return null;let{disabled:E,value:L,onSelect:_,...K}=e;return t.createElement("div",{ref:D([o,c]),...K,id:r,"cmdk-item":"",role:"option","aria-disabled":E||void 0,"aria-selected":p||void 0,"data-disabled":E||void 0,"data-selected":p||void 0,onPointerMove:E?void 0:T,onClick:E?void 0:C},e.children)}),Se=t.forwardRef((e,c)=>{let{heading:r,children:o,forceMount:a,...s}=e,u=t.useId(),R=t.useRef(null),g=t.useRef(null),m=t.useId(),p=w(),i=P(E=>a||p.filter()===!1?!0:E.search?E.filtered.groups.has(u):!0);k(()=>p.group(u),[]),U(u,R,[e.value,e.heading,g]);let C=t.useMemo(()=>({id:u,forceMount:a}),[a]),T=t.createElement($.Provider,{value:C},o);return t.createElement("div",{ref:D([R,c]),...s,"cmdk-group":"",role:"presentation",hidden:i?void 0:!0},r&&t.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0,className:e.customchildclassname},T))}),be=t.forwardRef((e,c)=>{let{heading:r,children:o,forceMount:a,...s}=e,u=t.useId(),R=t.useRef(null),g=t.useRef(null),m=t.useId(),p=w(),i=P(E=>a||p.filter()===!1?!0:E.search?E.filtered.groups.has(u):!0);k(()=>p.group(u),[]),U(u,R,[e.value,e.heading,g]);let C=t.useMemo(()=>({id:u,forceMount:a}),[a]),T=t.createElement($.Provider,{value:C},o);return t.createElement("div",{ref:D([R,c]),...s,"cmdk-group":"",role:"presentation",hidden:i?void 0:!0},r&&t.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0},T))}),Te=t.forwardRef((e,c)=>{let{alwaysRender:r,...o}=e,a=t.useRef(null),s=P(u=>!u.search);return!r&&!s?null:t.createElement("div",{ref:D([a,c]),...o,"cmdk-separator":"",role:"separator"})}),ye=t.forwardRef((e,c)=>{let{onValueChange:r,loading:o,...a}=e,s=e.value!=null,u=j(),R=P(i=>i.search),g=P(i=>i.value),m=w();console.log("Store Snapshot: ",u.snapshot().filtered),console.log("Search: ",R),console.log("Context: ",m),console.log("Props: ",e);let p=t.useMemo(()=>{var C;let i=(C=m.commandRef.current)==null?void 0:C.querySelector(`${te}[${A}="${g}"]`);return i==null?void 0:i.getAttribute("id")},[g,m.commandRef]);return t.useEffect(()=>{console.log("Props Value: ",e.value," loading: ",o),e.value!=null&&!o&&(console.log("State Search commencing..."),u.setState("search",e.value))},[e.value,o]),t.createElement("input",{ref:c,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":p,id:m.inputId,type:"text",value:s?e.value:R,onChange:i=>{s||u.setState("search",i.target.value),r==null||r(i.target.value)}})}),Me=t.forwardRef((e,c)=>{let{children:r,...o}=e,a=t.useRef(null),s=t.useRef(null),u=w();return t.useEffect(()=>{if(s.current&&a.current){let R=s.current,g=a.current,m,p=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let i=R.offsetHeight;g.style.setProperty("--cmdk-list-height",i.toFixed(1)+"px")})});return p.observe(R),()=>{cancelAnimationFrame(m),p.unobserve(R)}}},[]),t.createElement("div",{ref:D([a,c]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:u.listId,"aria-labelledby":u.inputId},t.createElement("div",{ref:s,"cmdk-list-sizer":""},r))}),Pe=t.forwardRef((e,c)=>{let{open:r,onOpenChange:o,overlayClassName:a,contentClassName:s,container:u,...R}=e;return t.createElement(x.Root,{open:r,onOpenChange:o},t.createElement(x.Portal,{container:u},t.createElement(x.Overlay,{"cmdk-overlay":"",className:a}),t.createElement(x.Content,{"aria-label":e.label,"cmdk-dialog":"",className:s},t.createElement(ne,{ref:c,...R}))))}),Le=t.forwardRef((e,c)=>{let r=t.useRef(!0),o=P(a=>a.filtered.count===0);return t.useEffect(()=>{r.current=!1},[]),r.current||!o?null:t.createElement("div",{ref:c,...e,"cmdk-empty":"",role:"presentation"})}),Ae=t.forwardRef((e,c)=>{let{progress:r,children:o,...a}=e;return t.createElement("div",{ref:c,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},t.createElement("div",{"aria-hidden":!0},o))}),Ye=Object.assign(ne,{List:Me,CustomItem:Ee,Item:Ce,Input:ye,CustomGroup:Se,Group:be,Separator:Te,Dialog:Pe,Empty:Le,Loading:Ae});function Je(e,c){let r=e.nextElementSibling;for(;r;){if(r.matches(c))return r;r=r.nextElementSibling}}function ze(e,c){let r=e.previousElementSibling;for(;r;){if(r.matches(c))return r;r=r.previousElementSibling}}function re(e){let c=t.useRef(e);return k(()=>{c.current=e}),c}var k=typeof window>"u"?t.useEffect:t.useLayoutEffect;function O(e){let c=t.useRef();return c.current===void 0&&(c.current=e()),c}function D(e){return c=>{e.forEach(r=>{typeof r=="function"?r(c):r!=null&&(r.current=c)})}}function P(e){let c=j(),r=()=>e(c==null?void 0:c.snapshot());return t.useSyncExternalStore(c==null?void 0:c.subscribe,r,r)}function U(e,c,r){let o=t.useRef(),a=w();return k(()=>{var u;let s=(()=>{var R;for(let g of r){if(typeof g=="string")return g.trim().toLowerCase();if(typeof g=="object"&&"current"in g&&g.current)return(R=g.current.textContent)==null?void 0:R.trim().toLowerCase()}})();a.value(e,s),(u=c.current)==null||u.setAttribute(A,s),o.current=s}),o}var De=()=>{let[e,c]=t.useState(),r=O(()=>new Map);return k(()=>{r.current.forEach(o=>o()),r.current=new Map},[e]),(o,a)=>{r.current.set(o,a),c({})}},Qe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};0&&(module.exports={Command,CommandDialog,CommandEmpty,CommandGroup,CommandGroupCustom,CommandInput,CommandItem,CommandItemCustom,CommandList,CommandLoading,CommandRoot,CommandSeparator,useCommandState});
