var De=Object.create;var K=Object.defineProperty;var Ae=Object.getOwnPropertyDescriptor;var ke=Object.getOwnPropertyNames;var xe=Object.getPrototypeOf,_e=Object.prototype.hasOwnProperty;var we=(e,o)=>{for(var r in o)K(e,r,{get:o[r],enumerable:!0})},le=(e,o,r,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of ke(o))!_e.call(e,c)&&c!==r&&K(e,c,{get:()=>o[c],enumerable:!(a=Ae(o,c))||a.enumerable});return e};var ue=(e,o,r)=>(r=e!=null?De(xe(e)):{},le(o||!e||!e.__esModule?K(r,"default",{value:e,enumerable:!0}):r,e)),Ie=e=>le(K({},"__esModule",{value:!0}),e);var ze={};we(ze,{Command:()=>We,CommandDialog:()=>Te,CommandEmpty:()=>Me,CommandGroup:()=>Se,CommandInput:()=>be,CommandItem:()=>Ee,CommandItemLink:()=>he,CommandList:()=>ye,CommandLoading:()=>Le,CommandRoot:()=>ee,CommandSeparator:()=>Ce,useCommandState:()=>M});module.exports=Ie(ze);var P=ue(require("@radix-ui/react-dialog")),n=ue(require("react"));var de=1,Oe=.9,He=.8,Ne=.17,X=.1,Y=.999,Ge=.9999;var Ke=.99,Ve=/[\\\/_+.#"@\[\(\{&]/,Fe=/[\\\/_+.#"@\[\(\{&]/g,$e=/[\s-]/,me=/[\s-]/g;function J(e,o,r,a,c,s,f){if(s===o.length)return c===e.length?de:Ke;var g=`${c},${s}`;if(f[g]!==void 0)return f[g];for(var d=a.charAt(s),v=r.indexOf(d,c),p=0,m,C,b,E;v>=0;)m=J(e,o,r,a,v+1,s+1,f),m>p&&(v===c?m*=de:Ve.test(e.charAt(v-1))?(m*=He,b=e.slice(c,v-1).match(Fe),b&&c>0&&(m*=Math.pow(Y,b.length))):$e.test(e.charAt(v-1))?(m*=Oe,E=e.slice(c,v-1).match(me),E&&c>0&&(m*=Math.pow(Y,E.length))):(m*=Ne,c>0&&(m*=Math.pow(Y,v-c))),e.charAt(v)!==o.charAt(s)&&(m*=Ge)),(m<X&&r.charAt(v-1)===a.charAt(s+1)||a.charAt(s+1)===a.charAt(s)&&r.charAt(v-1)!==a.charAt(s))&&(C=J(e,o,r,a,v+1,s+2,f),C*X>m&&(m=C*X)),m>p&&(p=m),v=r.indexOf(d,v+1);return f[g]=p,p}function fe(e){return e.toLowerCase().replace(me," ")}function Re(e,o){return J(e,o,fe(e),fe(o),0,0,{})}var je='[cmdk-list-sizer=""]',N='[cmdk-group=""]',z='[cmdk-group-items=""]',Ue='[cmdk-group-heading=""]',Q='[cmdk-item=""]',pe=`${Q}:not([aria-disabled="true"])`,G="cmdk-item-select",L="data-value",qe=(e,o)=>Re(e,o),ve=n.createContext(void 0),w=()=>n.useContext(ve),ge=n.createContext(void 0),V=()=>n.useContext(ge),Z=n.createContext(void 0),ee=n.forwardRef((e,o)=>{let r=n.useRef(null),a=_(()=>{var t;return{search:"",value:e.value??((t=e.defaultValue)==null?void 0:t.toLowerCase())??"",filtered:{count:0,items:new Map,groups:new Set}}}),c=_(()=>new Set),s=_(()=>new Map),f=_(()=>new Map),g=_(()=>new Set),d=te(e),{label:v,children:p,value:m,onValueChange:C,filter:b,shouldFilter:E,...x}=e,F=n.useId(),T=n.useId(),D=n.useId(),R=Ye();k(()=>{if(m!==void 0){let t=m.trim().toLowerCase();a.current.value=t,R(6,oe),S.emit()}},[m]);let S=n.useMemo(()=>({subscribe:t=>(g.current.add(t),()=>g.current.delete(t)),snapshot:()=>a.current,setState:(t,u,i)=>{var l,h,y;if(!Object.is(a.current[t],u)){if(a.current[t]=u,t==="search")q(),j(),R(1,U);else if(t==="value")if(((l=d.current)==null?void 0:l.value)!==void 0){let A=u??"";(y=(h=d.current).onValueChange)==null||y.call(h,A);return}else i||R(5,oe);S.emit()}},emit:()=>{g.current.forEach(t=>t())}}),[]),$=n.useMemo(()=>({value:(t,u)=>{u!==f.current.get(t)&&(f.current.set(t,u),a.current.filtered.items.set(t,re(u)),R(2,()=>{j(),S.emit()}))},item:(t,u)=>(c.current.add(t),u&&(s.current.has(u)?s.current.get(u).add(t):s.current.set(u,new Set([t]))),R(3,()=>{q(),j(),a.current.value||U(),S.emit()}),()=>{f.current.delete(t),c.current.delete(t),a.current.filtered.items.delete(t);let i=O();R(4,()=>{q(),(i==null?void 0:i.getAttribute("id"))===t&&U(),S.emit()})}),group:t=>(s.current.has(t)||s.current.set(t,new Set),()=>{f.current.delete(t),s.current.delete(t)}),filter:()=>d.current.shouldFilter,label:v||e["aria-label"],commandRef:r,listId:F,inputId:D,labelId:T}),[]);function re(t){var i;let u=((i=d.current)==null?void 0:i.filter)??qe;return t?u(t,a.current.search):0}function j(){if(!r.current||!a.current.search||d.current.shouldFilter===!1)return;let t=a.current.filtered.items,u=[];a.current.filtered.groups.forEach(l=>{let h=s.current.get(l),y=0;h.forEach(A=>{let Pe=t.get(A);y=Math.max(Pe,y)}),u.push([l,y])});let i=r.current.querySelector(je);H().sort((l,h)=>{let y=l.getAttribute(L),A=h.getAttribute(L);return(t.get(A)??0)-(t.get(y)??0)}).forEach(l=>{let h=l.closest(z);h?h.appendChild(l.parentElement===h?l:l.closest(`${z} > *`)):i.appendChild(l.parentElement===i?l:l.closest(`${z} > *`))}),u.sort((l,h)=>h[1]-l[1]).forEach(l=>{let h=r.current.querySelector(`${N}[${L}="${l[0]}"]`);h==null||h.parentElement.appendChild(h)})}function U(){let t=H().find(i=>!i.ariaDisabled),u=t==null?void 0:t.getAttribute(L);S.setState("value",u||void 0)}function q(){if(!a.current.search||d.current.shouldFilter===!1){a.current.filtered.count=c.current.size;return}a.current.filtered.groups=new Set;let t=0;for(let u of c.current){let i=f.current.get(u),l=re(i);a.current.filtered.items.set(u,l),l>0&&t++}for(let[u,i]of s.current)for(let l of i)if(a.current.filtered.items.get(l)>0){a.current.filtered.groups.add(u);break}a.current.filtered.count=t}function oe(){var u,i,l;let t=O();t&&(((u=t.parentElement)==null?void 0:u.firstChild)===t&&((l=(i=t.closest(N))==null?void 0:i.querySelector(Ue))==null||l.scrollIntoView({block:"nearest"})),t.scrollIntoView({block:"nearest"}))}function O(){var t;return(t=r.current)==null?void 0:t.querySelector(`${Q}[aria-selected="true"]`)}function H(){return Array.from(r.current.querySelectorAll(pe))}function W(t){let i=H()[t];i&&S.setState("value",i.getAttribute(L))}function B(t){var y;let u=O(),i=H(),l=i.findIndex(A=>A===u),h=i[l+t];(y=d.current)!=null&&y.loop&&(h=l+t<0?i[i.length-1]:l+t===i.length?i[0]:i[l+t]),h&&S.setState("value",h.getAttribute(L))}function ae(t){let u=O(),i=u==null?void 0:u.closest(N),l;for(;i&&!l;)i=t>0?Be(i,N):Xe(i,N),l=i==null?void 0:i.querySelector(pe);l?S.setState("value",l.getAttribute(L)):B(t)}let ce=()=>W(H().length-1),se=t=>{t.preventDefault(),t.metaKey?ce():t.altKey?ae(1):B(1)},ie=t=>{t.preventDefault(),t.metaKey?W(0):t.altKey?ae(-1):B(-1)};return n.createElement("div",{ref:I([r,o]),...x,"cmdk-root":"",onKeyDown:t=>{var u;if((u=x.onKeyDown)==null||u.call(x,t),!t.defaultPrevented)switch(t.key){case"n":case"j":{t.ctrlKey&&se(t);break}case"ArrowDown":{se(t);break}case"p":case"k":{t.ctrlKey&&ie(t);break}case"ArrowUp":{ie(t);break}case"Home":{t.preventDefault(),W(0);break}case"End":{t.preventDefault(),ce();break}case"Enter":{t.preventDefault();let i=O();if(i){let l=new Event(G);i.dispatchEvent(l)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:Je},v),n.createElement(ge.Provider,{value:S},n.createElement(ve.Provider,{value:$},p)))}),he=n.forwardRef((e,o)=>{var D;let r=n.useId(),a=n.useRef(null),c=n.useContext(Z),s=w(),f=te(e),g=((D=f.current)==null?void 0:D.forceMount)??(c==null?void 0:c.forceMount);k(()=>s.item(r,c==null?void 0:c.id),[]);let d=ne(r,a,[e.value,e.children,a]),v=V(),p=M(R=>R.value&&R.value===d.current),m=M(R=>g||s.filter()===!1?!0:R.search?R.filtered.items.get(r)>0:!0);n.useEffect(()=>{let R=a.current;if(!(!R||e.disabled))return R.addEventListener(G,C),()=>R.removeEventListener(G,C)},[m,e.onSelect,e.disabled]);function C(){var R,S;console.log("OnSelect:"),b(),(S=(R=f.current).onSelect)==null||S.call(R,d.current)}function b(){console.log("select:"),v.setState("value",d.current,!0)}if(!m)return null;let{disabled:E,value:x,onSelect:F,...T}=e;return console.log("Creating a link"),n.createElement("a",{href:e.href,ref:I([a,o]),id:r,"cmdk-item":"",role:"option","aria-disabled":E||void 0,"aria-selected":p||void 0,"data-disabled":E||void 0,"data-selected":p||void 0,onPointerMove:E?void 0:b,onClick:E?void 0:C,className:T.className,defaultChecked:T.defaultChecked,defaultValue:T.defaultValue,suppressContentEditableWarning:T.suppressContentEditableWarning,suppressHydrationWarning:T.suppressHydrationWarning,accessKey:T.accessKey},e.children)}),Ee=n.forwardRef((e,o)=>{var D;let r=n.useId(),a=n.useRef(null),c=n.useContext(Z),s=w(),f=te(e),g=((D=f.current)==null?void 0:D.forceMount)??(c==null?void 0:c.forceMount);k(()=>s.item(r,c==null?void 0:c.id),[]);let d=ne(r,a,[e.value,e.children,a]),v=V(),p=M(R=>R.value&&R.value===d.current),m=M(R=>g||s.filter()===!1?!0:R.search?R.filtered.items.get(r)>0:!0);n.useEffect(()=>{let R=a.current;if(!(!R||e.disabled))return R.addEventListener(G,C),()=>R.removeEventListener(G,C)},[m,e.onSelect,e.disabled]);function C(){var R,S;b(),(S=(R=f.current).onSelect)==null||S.call(R,d.current)}function b(){v.setState("value",d.current,!0)}if(!m)return null;let{disabled:E,value:x,onSelect:F,...T}=e;return n.createElement("div",{ref:I([a,o]),...T,id:r,"cmdk-item":"",role:"option","aria-disabled":E||void 0,"aria-selected":p||void 0,"data-disabled":E||void 0,"data-selected":p||void 0,onPointerMove:E?void 0:b,onClick:E?void 0:C},e.children)}),Se=n.forwardRef((e,o)=>{let{heading:r,children:a,forceMount:c,...s}=e,f=n.useId(),g=n.useRef(null),d=n.useRef(null),v=n.useId(),p=w(),m=M(E=>c||p.filter()===!1?!0:E.search?E.filtered.groups.has(f):!0);k(()=>p.group(f),[]),ne(f,g,[e.value,e.heading,d]);let C=n.useMemo(()=>({id:f,forceMount:c}),[c]),b=n.createElement(Z.Provider,{value:C},a);return n.createElement("div",{ref:I([g,o]),...s,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&n.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:v},r),n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?v:void 0},b))}),Ce=n.forwardRef((e,o)=>{let{alwaysRender:r,...a}=e,c=n.useRef(null),s=M(f=>!f.search);return!r&&!s?null:n.createElement("div",{ref:I([c,o]),...a,"cmdk-separator":"",role:"separator"})}),be=n.forwardRef((e,o)=>{let{onValueChange:r,...a}=e,c=e.value!=null,s=V(),f=M(p=>p.search),g=M(p=>p.value),d=w(),v=n.useMemo(()=>{var m;let p=(m=d.commandRef.current)==null?void 0:m.querySelector(`${Q}[${L}="${g}"]`);return p==null?void 0:p.getAttribute("id")},[g,d.commandRef]);return n.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),n.createElement("input",{ref:o,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":v,id:d.inputId,type:"text",value:c?e.value:f,onChange:p=>{c||s.setState("search",p.target.value),r==null||r(p.target.value)}})}),ye=n.forwardRef((e,o)=>{let{children:r,...a}=e,c=n.useRef(null),s=n.useRef(null),f=w();return n.useEffect(()=>{if(s.current&&c.current){let g=s.current,d=c.current,v,p=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let m=g.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return p.observe(g),()=>{cancelAnimationFrame(v),p.unobserve(g)}}},[]),n.createElement("div",{ref:I([c,o]),...a,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:f.listId,"aria-labelledby":f.inputId},n.createElement("div",{ref:s,"cmdk-list-sizer":""},r))}),Te=n.forwardRef((e,o)=>{let{open:r,onOpenChange:a,overlayClassName:c,contentClassName:s,container:f,...g}=e;return n.createElement(P.Root,{open:r,onOpenChange:a},n.createElement(P.Portal,{container:f},n.createElement(P.Overlay,{"cmdk-overlay":"",className:c}),n.createElement(P.Content,{"aria-label":e.label,"cmdk-dialog":"",className:s},n.createElement(ee,{ref:o,...g}))))}),Me=n.forwardRef((e,o)=>{let r=n.useRef(!0),a=M(c=>c.filtered.count===0);return n.useEffect(()=>{r.current=!1},[]),r.current||!a?null:n.createElement("div",{ref:o,...e,"cmdk-empty":"",role:"presentation"})}),Le=n.forwardRef((e,o)=>{let{progress:r,children:a,...c}=e;return n.createElement("div",{ref:o,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},n.createElement("div",{"aria-hidden":!0},a))}),We=Object.assign(ee,{List:ye,Item:Ee,ItemLink:he,Input:be,Group:Se,Separator:Ce,Dialog:Te,Empty:Me,Loading:Le});function Be(e,o){let r=e.nextElementSibling;for(;r;){if(r.matches(o))return r;r=r.nextElementSibling}}function Xe(e,o){let r=e.previousElementSibling;for(;r;){if(r.matches(o))return r;r=r.previousElementSibling}}function te(e){let o=n.useRef(e);return k(()=>{o.current=e}),o}var k=typeof window>"u"?n.useEffect:n.useLayoutEffect;function _(e){let o=n.useRef();return o.current===void 0&&(o.current=e()),o}function I(e){return o=>{e.forEach(r=>{typeof r=="function"?r(o):r!=null&&(r.current=o)})}}function M(e){let o=V(),r=()=>e(o==null?void 0:o.snapshot());return n.useSyncExternalStore(o==null?void 0:o.subscribe,r,r)}function ne(e,o,r){let a=n.useRef(),c=w();return k(()=>{var f;let s=(()=>{var g;for(let d of r){if(typeof d=="string")return d.trim().toLowerCase();if(typeof d=="object"&&"current"in d&&d.current)return(g=d.current.textContent)==null?void 0:g.trim().toLowerCase()}})();c.value(e,s),(f=o.current)==null||f.setAttribute(L,s),a.current=s}),a}var Ye=()=>{let[e,o]=n.useState(),r=_(()=>new Map);return k(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,c)=>{r.current.set(a,c),o({})}},Je={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};0&&(module.exports={Command,CommandDialog,CommandEmpty,CommandGroup,CommandInput,CommandItem,CommandItemLink,CommandList,CommandLoading,CommandRoot,CommandSeparator,useCommandState});
